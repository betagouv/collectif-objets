= turbo_frame_tag :new_access do
  = form_with url: [namespace, recenseur], method: :get, builder: FormBuilderDsfr do |f|
    .fr-search-bar.fr-mb-4w
      = f.label :nom, "Rechercher une commune", class: "fr-label"
      .fr-input-wrap.co-header-search-input-wrap
        = f.text_field :nom, autocomplete: :off, required: true, placeholder: "Commune", class: "fr-input", value: params[:nom]
      = f.button value: "Rechercher", name: nil, type: :submit, class: "fr-btn"

  - if params[:nom]
    %h3.fr-h5= pluralize(@communes.size, "résultat", plural: "Résultats")
    %ul
      = render partial: "shared/recenseur_accesses/commune", collection: @communes, locals: { recenseur: @recenseur }
