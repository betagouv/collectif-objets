-# locals: (wizard:)

= render "communes/recensements/fields/photos", recensement: wizard.recensement

= render "communes/recensements/wizard_form", wizard: wizard do |form_builder|

  = form_builder.hidden_field :confirmation_no_photos

  - if @modal == "confirmation-no-photos"
    = dsfr_modal(title: "Êtes-vous sûr de ne pas pouvoir prendre de photos ?",
          opened: true,
          html_attributes: { "data-controller": "modal-auto-open" }) do |m|
      - m.with_header do
        = link_to "Fermer", wizard.confirmation_modal_close_path, class: "fr-link--close fr-link"
      %p Attention : votre recensement risque de ne pas être exploitable par les conservateurs sans photos.

      %p
        En cas de difficultés, n’hésitez pas à contacter vos conservateurs sur la
        = link_to "messagerie", [wizard.namespace, wizard.commune, :messages].compact

      - m.with_button do
        = dsfr_button label: "Confirmer et continuer", html_attributes: { type: "submit" }
      - m.with_button do
        = link_to "Annuler", wizard.confirmation_modal_close_path, class: "fr-btn fr-btn--secondary"
